---
import Layout from "../layouts/Layout.astro";
import { userConfig } from "../config";
import { Image } from "astro:assets";
---

<Layout>
  <div class="flex flex-col gap-6">
    <!-- Header -->
    <h1 class="font-medium text-primary tracking-wide">projects</h1>

    <!-- Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch">
      {
        userConfig.projects.map((project) => (
          <a
            href={project.url}
            target="_blank"
            rel="noreferrer"
            class="flex flex-col gap-4 group"
          >
            <div class="bg-darkblue-200/50 rounded-2xl aspect-video w-full flex items-center justify-center border border-white/5 transition-colors group-hover:border-white/10 group-hover:bg-darkblue-200/80 overflow-hidden">
              {project.image ? (
                <Image
                  src={project.image}
                  alt={project.title}
                  class="w-full h-full object-contain transition-transform duration-500 "
                />
              ) : (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="32"
                  height="32"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-primary-opaque/20 transition-transform "
                >
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                  <line x1="3" y1="9" x2="21" y2="9" />
                  <line x1="9" y1="21" x2="9" y2="9" />
                </svg>
              )}
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between">
                <h3 class="text-accent-blue font-medium">{project.title}</h3>
                <span class="text-sm lowercase text-accent-gold border border-primary-opaque/20 px-2 py-0.5 rounded-full">
                  {project.category}
                </span>
              </div>
              <p class="text-sm text-primary-opaque/75 leading-relaxed">
                {project.description}
              </p>
            </div>
          </a>
        ))
      }
    </div>
  </div>
</Layout>
